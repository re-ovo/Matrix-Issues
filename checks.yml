########################################################################################################
#
#
#                                      Matrix Anti-Cheat
#                                          checks.yml
#
#                         This file checks and prevents the player from
#                       using most combat related hacks including but not
#                          limited to KillAura, Reach, HitBox, & More!
#
#                         Proofreading/Translation By: DJRedNightMC#6027
#             Free & Paid Plugin Proofreading for Non-Native English Speaking Developers
#
########################################################################################################


############################################################
#
#                         KillAura
#
# Description: This check prevents the player from using
# the KillAura hack
#
############################################################
killaura:
  # Enable KillAura check?
  enable: true

  # Enable Machine Learning KillAura check?
  # Killaura must also be enabled
  machine_learning: true

  # Module Settings
  modules:
    # AutoClicker Check
    autoclicker:
      # Max clicks per second (CPS)
      max_cps: 15
      # CPS limit check
      cps: true
      # Violations to add
      vl_add: 10
      # Click delay analyser
      delay: true
      # Violations to add
      vl_add: 20
      # Long term CPS analyser
      cps_long: true
      # Violations to add
      vl_add: 5
      # Packet Pattern
      packet: true
      # Violations to add
      vl_add: 8

    # Attack Accuracy check
    accuracy:
      # Enable accuracy check?
      enable: true
      # Maximum attack accuracy (0-100)
      max_accuracy: 70
      # Violations to add
      vl_add: 20

    # Other modules
    other:
      # SuperKnockback check
      action: true
      # Violations to add
      vl_add: 15
      # Yaw Pattern check
      yaw: true
      # Violations to add
      vl_add: 10
      # Pitch pattern check
      pitch: true
      # Violations to add
      vl_add: 10
      # Aim Snapping check
      snap: true
      # Violations to add
      vl_add: 7
      
  # Violations needed to cancel illegal hits (-1 = never cancel)
  cancel_vl: 8

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    20: 'matrix notify %player% might be using combat hacks (KillAura)'
    35: 'matrix notify %player% is using combat hacks (KillAura) #2'
    45: 'matrix kick %player% KillAura'

############################################################
#
#                  HitBox/Angle/Reach
#
# Description: This check prevents players from using HitBox,
# Angle, & Reach hacks.
#
############################################################
hitbox:
  # Enable HitBox check?
  enable: true

  # Angle check settings
  angle:
    # Maximum angle (degrees)
    max: 90

    # Minimum distance check
    min_dist: 1.5
    # Violations to add
    vl_add: 5

  # Reach check settings
  reach:
    # Maximum attack reach distance
    max_reach: 3.5

    # Enable reach distance analyser?
    # This is a math check that can detect slightly modified reach hacks
    enable_analyser: true
    # Violations to add
    vl_add: 5

  # Violations needed to cancel illegal hits (-1 = never cancel)
  cancel_vl: 8

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to reach entity outside max reach distance (HitBox)'
    15: 'matrix notify %player% tried to reach entity outside max reach distance (HitBox) #2'
    24: 'matrix kick %player% Reach/HitBox Hacks'

############################################################
#
#                     Movement Speed
#
# Description: This checks how fast a player moves, and
# prevents the player from moving too fast.
#
############################################################
speed:
  # Enable this check?
  # Warning: Will also disable
  # flight detection.
  enable: true

  # Violations needed to cancel illegal movements (-1 = never cancel)
  cancel_vl: 30

  # Entity Speed check
  # It can detect Vehicle Speed hacking in 1.9+
  entity_speed: true
    # Violations to add
    vl_add: 5

  # Enable sprint direction check?
  sprint_direction: true
    # Violations to add
    vl_add: 15

  # Enable limit detection?
  limit: true
    # Violations to add
    vl_add: 8

   #Enable clip detection?
   clip: true
    # Violations to add
    vl_add: 8

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    55: 'matrix notify %player% tried to move faster than usual (Speed) #1'
    90: 'matrix notify %player% tried to move faster than usual (Speed) #2'
    220: 'matrix kick %player% Speed Hacks'

############################################################
#
#                           Fly
#
# Description: Prevents the player from using both vanilla
# and non-vanilla fly hacks.
#
############################################################
fly:
  # Enable this check?
  # Warning: Speed check must
  # also be enabled.
  enable: true

  # Violations needed to cancel illegal movements (-1 = never cancel)
  cancel_vl: 50

  # Strict Glide check
  strict_glide:
    # Enable strict glide check?
    enable: true

    # Falling distance and expectation deserve maximum deviation
    # If difference lager than this value, the player will be flagged
    max_diff: 0.5
    # Violations to add
    vl_add: 5

  # Enable ElytraFlight check?
  check_elytra_flight: true

  # NoFall check
  nofall:
    # Force deal damage after setback?
    damage: true
  
  #Upwards check.
  up:
    #Enable this check?
    enable: true
    # Violations to add
    vl_add: 8

  # Setback method (back/ground/AAC)
  # back: teleport the player to the last legit location
  # ground: teleport the player to the ground under the player
  # AAC: Uses AAC's method of teleporting the player downwards.
  setback: back

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    50: 'matrix notify %player% tried to fly (Fly) #1'
    100: 'matrix notify %player% tried to fly (Fly) #2'
    180: 'matrix kick %player% Fly Related Hacks'

############################################################
#
#                      BadPackets
#
# Description: Prevents player from sending too many
# movement packets or sending illegal packets
#
# Warning: Don't disable this check! This check includes
# many hidden checks that are vital for Matrix to run!
############################################################
badpackets:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal movement packets (-1 = never cancel)
  cancel_vl: 30

  # packet queue size (seconds)
  # smaller-> detect timer faster, higher -> more friendly for high latency players
  cache_size: 30

  # Tick Rate check
  # It can detect some smooth Timer (1.01~1.05 timer fast)
  tick_rate:
    # Enable this check?
    enable: true

    # Cache size (Seconds)
    # Bigger: Less false positives for laggy players
    # Smaller: More strict, detect Timer hack fast
    cache_size: 5
    # Violations to add
    vl_add: 5

  # Useless verbose message output (+0 VL messages)
  # If you don't want to see BadPackets spam in the verbose messages
  # You can set this to false
  verbose_useless: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    100: 'matrix notify %player% is sending unusual packets to server (BadPackets) #1'
    150: 'matrix notify %player% is sending unusual packets to server (BadPackets) #2'
    240: 'matrix kick %player% Sending Unusual Packets'

############################################################
#
#                         FastUse
#
# Description: Check prevents player from eating or using
# an item too quickly.
#
############################################################
fastuse:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal item use (-1 = never cancel)
  cancel_vl: 5

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% tried to use an item faster than usual (FastUse)'
    12: 'matrix kick %player% FastUse Hacks'

############################################################
#
#                         FastBow
#
# Description: Check prevents player from shooting a bow
# too quickly.
#
############################################################
fastbow:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal bow use (-1 = never cancel)
  cancel_vl: 7

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% is trying to shoot a bow too quickly (FastBow)'
    15: 'matrix kick %player% FastBow Hacks'

############################################################
#
#                         FastHeal
#
# Description: Check prevents player from regaining health
# too quickly.
#
############################################################
fastheal:
  # Enable this check?
  enable: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to regain health too quickly (FastHeal)'
    20: 'matrix kick %player% FastHeal Hacks'

############################################################
#
#                  FastPlace/Block Interact
#
# Description: Check prevents the player from breaking,
# placing, or interacting with a block too quikcly.
#
############################################################
block:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal breaking/placing of blocks (-1 = never cancel)
  cancel_vl: 15

  # Eagle check.
  eagle:
    # Enable this check?
    enable: true
    # Violations to add
    vl_add: 5

  # SafeWalk check.
  # Checks to see if the player is falling when at the edge of a block.
  safewalk:
    # Enable this check?
    enable: true
    # Violations to add
    vl_add: 7

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to place/break a block too quickly (FastPlace)'
    20: 'matrix kick %player% FastPlace/FastBreak Hacks'

############################################################
#
#                  Jesus / Water Walking
#
# Description: Check prevents the player from moving too
# too quickly in liquids, or walking on liquid.
#
############################################################
jesus:
  # Enable this check?
  enable: true

  # Updwards check.
  # Checks to see if the player is going up too fast.
  upwards:
    # Enable this check?
    enable: true
    # Max blocks per second the player is allowed going. (I think this is the value)
    max-speed: 0.35
    # Violations to add
    vl_add: 5

  # Speed check.
  # Checks to see if the player is going to fast.
  speed:
    # Enable this check?
    enable: true
    # Max blocks per second the player is allowed going.
    max-speed: 2.3
    # Violations to add
    vl_add: 7

  # Violations needed to cancel illegal movements (-1 = never cancel)
  cancel_vl: 15

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    15: 'matrix notify %player% tried to move illegally in liquid (Jesus)'
    25: 'matrix kick %player% Jesus/WaterSpeed/WaterFly Hacks'

############################################################
#
#                ChestSteal / InventoryMove
#
# Description: Check prevents the player from using illegal
# inventory modifications such as Steal. Also prevents quick
# inventory movement hacks.
#
############################################################
inventory:
  # Enable this check?
  enable: true

  # Violations needed to cancel illegal movements of items (-1 = never cancel)
  cancel_vl: 10

  # Disable InventoryMove check
  # If you don't need InventoryMove check, you can set this to 'true' to disable it
  # This option ONLY works for 1.12/1.13/+ server
  disable_invmove: false

  #I just did a copy-paste fron AACAP
  
    # This part uses pre-trained TensorFlow models to check for common bot-like clicking.
    AutomatedClickHeuristic:
      # Do you want to enable the automated click heuristic part
      enabled: true
    # This part flags hitting while the inventory is open.
    # This part will add 10 vl.
    Hit:
      # Do you want to enable the hit part
      enabled: true
      # Violation before Matrix starts to cancel the hits.
      # Set this to 0 to never cancel hits.
      cancel_vl: 30
    # The move part detects movement when a player is still in his inventory.
    # This part will add 3 vl when a player moves illegally and 10 vl if a player jumps illegally.
    Move:
      # Do you want to enable the move part
      enabled: true
      # Violation before Matrix starts to cancel the movements.
      # Set this to 0 to never cancel movement.
      cancel_vl: 30
      # The minimum TPS the server must have to activate this check
      # Low TPS will cause an extreme amount of false positives.
      min_tps: 19.5
      # This allows to add more lenience on servers with very high-ping players by stretching the no-punish time after
      # opening an inventory.
      # Normal connections are already covered by the default values.
      lenience_millis: 0
    # The MultiInteraction part prevents players from moving more than one item per tick
    # This part will add 1 to 3 vl, depending on the severity of the violation.
    MultiInteraction:
      # Do you want to enable the MultiInteraction part
      enabled: true
      # Violation before Matrix starts to cancel the interacts.
      # Set this to 0 to never cancel interacts.
      cancel_vl: 18
      # If a player has a ping higher than that value he bypasses the check
      # Please make sure that you have some pingspoofer protection enabled if you use this feature
      # Set this to -1 to disable
      max_ping: 400
      # The minimum TPS the server must have to activate this check
      # Low TPS will cause an extreme amount of false positives.
      min_tps: 18.5
    # The rotation part detects head movement while having an open inventory.
    # This part will add 1 vl.
    Rotation:
      # Do you want to enable the rotation part
      enabled: true
    # This part detects inventory interactions while a player is sprinting or sneaking.
    # This part will add 20 vl.
    Sprinting:
      # Do you want to enable the sprinting part
      enabled: true
  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% moved items in inventory too quickly (ChestSteal)'
    20: 'matrix kick %player% ChestSteal/Inventory Hacks'

############################################################
#
#                  Velocity / Anti-Knockback
#
# Description: Check prevents the player from using any type
# of anti-knockback hacks.
#
############################################################
velocity:
  # Enable this check?
  enable: true

  # Modules List
  # You can turn off some velocity modules here
  # Set it to false to disable the module
  modules:
    vertical: true
      # Violations to add
      vl_add: 4
    horizon: true
      # Violations to add
      vl_add: 9
    air: true
      # Violations to add
      vl_add: 4
    air_direction: true
      # Violations to add
      vl_add: 5
    delay: true
      # Violations to add
      vl_add: 5

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to ignore server velocity (Anti-Knockback)'
    15: 'matrix notify %player% tried to ignore server velocity (Anti-Knockback) #2'
    20: 'matrix kick %player% Velocity/Anti-Knockback Hacks'

############################################################
#
#                       Chat Spam
#
# Description: Check prevents a player from spamming
# messages in the servers chat.
# Disabled by default because I hate chat checks. Please remove.
#
############################################################
chat:
  # Enable this check?
  enable: false

  # Minimum amount of time between messages (Seconds)
  min_time: 3

  # Violations needed to cancel sent messages (-1 = never cancel)
  cancel_vl: 3

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    4: 'matrix notify %player% is spamming the chat (ChatSpam)'
    10: 'matrix kick %player% Stop spamming the chat!'

############################################################
#
#                         Interact
#
# Description: Check prevents the player from illegally
# interacting with entities and blocks.
# Shouldn't this just be in the Block check?
#
############################################################
interact:
  # Enable this check?
  enable: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    10: 'matrix notify %player% tried to illegally interact with Entity/Block (Interact)'
    15: 'matrix kick %player% Illegally Interacting with Block/Entity'

############################################################
#
#                         AutoFish
#
# Description: Check prevents the player from using an
# Auto-Fishing mod or hack.
#
############################################################
autofish:
  # Enable this check?
  enable: true

 # I just did a copy paste from aacap again

    # The inhuman_reaction part recognizes very fast reaction speeds to detect AutoFishing mods.
    # This might cause some false positives with experienced fishers.
    # This will add up to 6 vl, depending on the reaction speed.
    inhuman_reaction:
      # Should this part of the check be enabled
      enabled: true
      # How many milliseconds should have passed before a fishing action counts as legit.
      # This also influences the given vl according to a linear distribution.
      fishing_milliseconds: 145
    # The consistency part recognizes static times between a successful catch and fishing again.
    # This check has less to none false positives, especially with a high event count
    # Depending on how accurate the consistency is players will receive between 1 and 15 vl
    consistency:
      # Should this part of the check be enabled
      enabled: true
      # How many FishEvents should be checked by the consistency check
      consistency_events: 5
      # The minimum offset a player has to have in order to count as non-cheating.
      # Measured in ms
      violation_offset: 30
      # After how many failed attempts to fish between two successful attempts should a player be exempted from the
      # consistency part?
      #
      # This is a countermeasure for afk fishing farm false positives.
      # Do not extensively lower this value because bots with a custom fail-rate might not be detected.
      #
      # If you do not allow afk fishing farms on your server set this to a negative value.
      maximum_fails: 12

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    6: 'matrix notify %player% is using auto fish (AutoFish)'
    12: 'matrix kick %player% No Auto Fishing!'

############################################################
#
#                         Phase
#
# Description: Check prevents the player people glitching
# through blocks.
#
############################################################
phase:
  # Enable this check?
  enable: true

  # Which type of block should be exempt from phase checking?
  # If you find any false positive, you can add that block type into it
  # For example:
  # exclude_types:
  #   - 'AIR'
  exclude_types: {}

  # Cancel malicious movements
  setback: true

  # Violation Thresholds
  # number_of_violations: '<command>'
  commands:
    5: 'matrix notify %player% is phase into block (Phase)'
    10: 'matrix notify %player% is phase into block (Phase) #2'
    20: 'matrix kick %player% Phase into block'
